(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[291],{99683:function(n,e,t){"use strict";t.d(e,{Z:function(){return C}});var r,i,o,a,c,s,l=t(67294),u=t(41664),d=t(11163),f=t(8193),h=t(52209),p=t(95934),x=t(54528),m=p.Z.section(r||(r=(0,h.Z)(["\n  width: 100%;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),g="0.66rem 1rem",v=p.Z.section(i||(i=(0,h.Z)(["\n  width: 100%;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  background-color: #141414;\n\n  "," {\n    border: 1px solid #ddd;\n    border-radius: 2px;\n    width: 27rem;\n  }\n"])),x.Z.sm),k=p.Z.header(o||(o=(0,h.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 1.33rem;\n  padding: ",";\n  padding-top: 1rem;\n  gap: 1rem;\n\n  h1 {\n    font-size: 1.1rem;\n    font-weight: 300;\n    color: #fff;\n  }\n"])),g),j=p.Z.main(a||(a=(0,h.Z)(["\n  flex: 1;\n  padding: ",";\n  position: relative;\n"])),(function(n){return n.noPadding?"initial":g})),b=p.Z.footer(c||(c=(0,h.Z)(["\n  nav {\n    display: flex;\n    justify-content: space-between;\n    padding: ",";\n    background-color: #000;\n  }\n"])),g),Z=p.Z.a(s||(s=(0,h.Z)(["\n  flex: 1;\n  display: inline-flex;\n  align-items: center;\n  flex-direction: column;\n  gap: 0.33rem;\n  color: "," !important;\n\n  p {\n    font-size: 10px;\n    font-weight: 100;\n  }\n"])),(function(n){return n.active?"#fff":"#aaa"})),w=t(85893),y=[{href:"/worker",outlineIcon:(0,w.jsx)(f.$mT,{size:20}),fillIcon:(0,w.jsx)(f.q2x,{size:20}),text:"\uc5c5\ubb34"},{href:"/worker/notice",outlineIcon:(0,w.jsx)(f.X6i,{size:20}),fillIcon:(0,w.jsx)(f.pMA,{size:20}),text:"\uacf5\uc9c0\uc0ac\ud56d"},{href:"/worker/setting",outlineIcon:(0,w.jsx)(f.zPD,{size:20}),fillIcon:(0,w.jsx)(f.xRF,{size:20}),text:"\uc124\uc815"}],I=function(n){var e=n.item,t=n.active;return(0,w.jsx)(u.default,{href:e.href,passHref:!0,children:(0,w.jsxs)(Z,{active:t,children:[t?e.fillIcon:e.outlineIcon,(0,w.jsx)("p",{children:e.text})]})})},C=function(n){var e=n.children,t=n.bodyNoPadding,r=(0,d.useRouter)(),i=(0,l.useMemo)((function(){return y.find((function(n){return n.href===r.asPath})).text}),[r.asPath]);return(0,w.jsx)(m,{children:(0,w.jsxs)(v,{children:[(0,w.jsx)(k,{children:(0,w.jsx)("h1",{children:i})}),(0,w.jsx)(j,{noPadding:t,children:e}),(0,w.jsx)(b,{children:(0,w.jsx)("nav",{children:y.map((function(n){return(0,w.jsx)(I,{item:n,active:n.href===r.asPath},n.href)}))})})]})})}},87217:function(n,e,t){"use strict";t.d(e,{Z:function(){return l}});var r=t(67294),i=t(11163),o=t(40821),a=t(82780),c="/user",s={onErrorRetry:function(n,e,t,r,i){var o=i.retryCount;e!==c&&(o>=10||setTimeout((function(){return r({retryCount:o})}),5e3))}};function l(){var n,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirectTo,l=e.redirectIfFound,u=(0,i.useRouter)(),d=(0,o.ZP)(c,a.F,s),f=d.data,h=d.mutate,p=d.error,x=!p&&!!f,m=!p&&!f;return console.group('SWR Fetched "/user"'),console.log("data:",f),console.log("error:",null===p||void 0===p||null===(n=p.response)||void 0===n?void 0:n.data.message),console.log("isLoggedIn:",x),console.log("isNotFetched:",m),console.groupEnd(),(0,r.useEffect)((function(){t&&(m||(!l&&!x||l&&x)&&u.push(t))}),[x,m,l,t,u,f]),{user:f,mutateUser:h,isLoggedIn:x}}},59413:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return D}});t(75314);var r,i,o,a,c,s=t(11187),l=t(67294),u=t(87217),d=t(99683),f=(t(23221),t(60713)),h=(t(89626),t(70302)),p=(t(54038),t(36671)),x=t(40821),m=t(70917),g=t(82780),v=(t(23461),t(53740)),k=t(5434),j=(t(1025),t(65400)),b=t(30266),Z=t(809),w=t.n(Z),y=t(77290),I=t(80154),C=t(85893),_=function(n){var e=n.workId,t=n.isWorkChecked,r=(0,I.Z)("/user/works",g.F),i=r.data,o=r.mutate,a=(0,l.useState)(!1),c=a[0],u=a[1],d=(0,l.useCallback)((0,b.Z)(w().mark((function n(){var t,r;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u(!0),n.prev=1,n.next=4,y.Z.patch("/works/".concat(e,"?state=checked")).then((function(n){return n.data}));case 4:return t=n.sent,r=null===i||void 0===i?void 0:i.map((function(n){return n.id!==t.id?n:t})),u(!1),n.next=9,o(r);case 9:s.default.success("\uc5c5\ubb34 \ud655\uc778 \uc644\ub8cc"),n.next=17;break;case 12:n.prev=12,n.t0=n.catch(1),u(!1),s.default.error("\uc11c\ubc84\uc5d0 \ubb38\uc81c\uac00 \uc788\ub294 \uac83 \uac19\uc544\uc694! \uc0ac\uc7a5\ub2d8\uc5d0\uac8c \ubb38\uc758\ud574\uc8fc\uc138\uc694."),console.error(n.t0);case 17:case"end":return n.stop()}}),n,null,[[1,12]])}))),[i,e,o]);return(0,C.jsx)(j.default,{type:t?"ghost":"primary",disabled:t,onClick:d,loading:c,block:!0,children:"\ud655\uc778"})},E=(t(53294),t(56697)),P=function(n){var e=n.workId,t=n.isWorkChecked,r=(0,I.Z)("/user/works",g.F),i=r.data,o=r.mutate,a=(0,l.useState)(!1),c=a[0],u=a[1],d=(0,l.useState)(!1),f=d[0],h=d[1],p=(0,l.useCallback)((0,b.Z)(w().mark((function n(){var r,a;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=3;break}return s.default.warn("\ud655\uc778 \ucc98\ub9ac\ub418\uc9c0 \uc54a\uc740 \uc5c5\ubb34\ub294 \uc644\ub8cc\ud560 \uc218 \uc5c6\uc5b4\uc694."),n.abrupt("return");case 3:return h(!0),n.prev=4,n.next=7,y.Z.patch("/works/".concat(e,"?state=done")).then((function(n){return n.data}));case 7:return r=n.sent,a=null===i||void 0===i?void 0:i.map((function(n){return n.id!==r.id?n:r})),h(!1),u(!1),n.next=13,o(a);case 13:s.default.success("\uc791\uc5c5\uc774 \uc644\ub8cc \ucc98\ub9ac \ub418\uc5c8\uc5b4\uc694. \uace0\uc0dd\ud558\uc168\uc2b5\ub2c8\ub2e4 :)"),n.next=21;break;case 16:n.prev=16,n.t0=n.catch(4),h(!1),s.default.error("\uc11c\ubc84\uc5d0 \ubb38\uc81c\uac00 \uc788\ub294 \uac83 \uac19\uc544\uc694! \uc0ac\uc7a5\ub2d8\uc5d0\uac8c \ubb38\uc758\ud574\uc8fc\uc138\uc694."),console.error(n.t0);case 21:case"end":return n.stop()}}),n,null,[[4,16]])}))),[i,e,t,o]),x=(0,l.useCallback)((function(){u(!1)}),[]),m=(0,l.useCallback)((function(){u(!0)}),[]);return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(j.default,{type:t?"primary":"ghost",disabled:!t,onClick:m,block:!0,children:"\uc644\ub8cc"}),(0,C.jsx)(E.Z,{visible:c,onOk:p,onCancel:x,okText:"\uc644\ub8cc",cancelText:"\ucde8\uc18c",confirmLoading:f,style:{top:"50%",transform:"translateY(-50%)"},children:"\uc791\uc5c5\uc744 \uc644\ub8cc \ud560\uae4c\uc694?"})]})},F=t(52209),S=t(95934),T="2rem",z=(0,m.iv)(r||(r=(0,F.Z)(["\n  .ant-card-actions {\n    li {\n      margin: 0 !important;\n    }\n  }\n\n  .ant-carousel {\n    position: relative;\n    top: calc(50% - ",");\n    transform: translateY(-50%);\n\n    .slick-slide > div {\n      padding: 0 3px;\n    }\n\n    .carousel-custom-dot {\n      li {\n        button {\n          background: #141414 !important;\n        }\n      }\n\n      li.slick-active {\n        button {\n          background: #141414 !important;\n        }\n      }\n    }\n  }\n"])),T),N=(0,S.Z)(h.Z)(i||(i=(0,F.Z)(["\n  margin-top: ",";\n  border: none;\n"])),T),R=(0,S.Z)(p.default)(o||(o=(0,F.Z)(["\n  position: relative;\n  top: 42%;\n  transform: translateY(-50%);\n  color: #fafafa;\n  fontweight: 300;\n"]))),L=S.Z.div(a||(a=(0,F.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 0.66rem;\n  margin-top: 1.66rem;\n"]))),M=S.Z.div(c||(c=(0,F.Z)(["\n  display: flex;\n  gap: 0.66rem;\n\n  p:first-of-type {\n    width: fit-content;\n    min-width: 3rem;\n    text-align: right;\n  }\n\n  p:last-of-type {\n    word-break: break-all;\n  }\n"]))),W=h.Z.Meta,A=v.Z.Paragraph,O=function(n){var e=n.label,t=n.content,r=n.copyable,i=void 0!==r&&r;return(0,C.jsxs)(M,{children:[(0,C.jsxs)("p",{children:[e,":"]}),i?(0,C.jsx)(A,{style:{marginBottom:0},copyable:!0,children:t}):(0,C.jsx)("p",{children:t})]})},X=function(n){var e=n.work;return(0,C.jsxs)(N,{actions:[(0,C.jsx)(_,{isWorkChecked:!!e.checkTime,workId:e.id},"c_".concat(e.id)),(0,C.jsx)(P,{isWorkChecked:!!e.checkTime,workId:e.id},"d_".concat(e.id))],children:[(0,C.jsx)(W,{title:(0,C.jsxs)("p",{children:[(0,C.jsx)(k.sF1,{size:20,style:{verticalAlign:"text-bottom"}}),(0,C.jsxs)("span",{style:{marginLeft:"0.33rem"},children:["\uad6c\uac04\uc9c0\uc218 ",e.charge]})]}),description:"\uc9c0\uc6d0\uc9c0\uc218 ".concat(e.subsidy)}),(0,C.jsxs)(L,{children:[(0,C.jsx)(O,{label:"\ucd9c\ubc1c\uc9c0",content:e.origin,copyable:!0}),e.waypoint&&(0,C.jsx)(O,{label:"\uacbd\uc720\uc9c0",content:e.waypoint,copyable:!0}),(0,C.jsx)(O,{label:"\ub3c4\ucc29\uc9c0",content:e.destination,copyable:!0}),(0,C.jsx)(O,{label:"\ucc28\uc885",content:e.carModel}),e.remark&&(0,C.jsx)(O,{label:"\ube44\uace0",content:e.remark})]})]})},Y=function(){return(0,C.jsx)(R,{image:p.default.PRESENTED_IMAGE_SIMPLE,imageStyle:{height:60},description:"\uc544\uc9c1 \ubc30\uc815\ub41c \uc5c5\ubb34\uac00 \uc5c6\uc5b4\uc694 :)"})},B=function(){var n=(0,x.ZP)("/user/works",g.F,{refreshInterval:6e4}).data,e=(0,l.useRef)(null===n||void 0===n?void 0:n.length),t=(0,l.useMemo)((function(){return window.localStorage}),["object"]),r=Number(t.getItem("currSlide")),i=(0,l.useCallback)((function(n){t.setItem("currSlide",n.toString())}),[t]);return(0,l.useEffect)((function(){var t;if(e.current){var r=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;r>e.current&&s.default.info("\uc0c8\ub85c\uc6b4 \uc5c5\ubb34\uac00 \ucd94\uac00\ub410\uc5b4\uc694!"),e.current=r}}),[n,e]),n?0===n.length?(0,C.jsx)(Y,{}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(m.xB,{styles:z}),(0,C.jsx)(f.Z,{dotPosition:"top",infinite:!0,initialSlide:n[r]?r:0,afterChange:i,children:n.map((function(n){return(0,C.jsx)(X,{work:n},n.id)}))})]}):(0,C.jsx)(h.Z,{loading:!0})},D=function(){var n=(0,u.Z)({redirectTo:"/login"}),e=n.user,t=n.isLoggedIn;return(0,l.useEffect)((function(){t&&"admin"===(null===e||void 0===e?void 0:e.role)&&s.default.info("\uc720\uc800 \uc804\uc6a9 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4.")}),[t,e]),t?(0,C.jsx)(d.Z,{children:(0,C.jsx)(B,{})}):null}},77290:function(n,e,t){"use strict";var r=t(9669),i=t.n(r)().create({baseURL:"http://54.180.83.42",withCredentials:!0});e.Z=i},82780:function(n,e,t){"use strict";t.d(e,{F:function(){return i}});var r=t(77290),i=function(n){return r.Z.get(n).then((function(n){return n.data}))}},94487:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/worker",function(){return t(59413)}])}},function(n){n.O(0,[617,228,400,597,980,794,841,647,774,888,179],(function(){return e=94487,n(n.s=e);var e}));var e=n.O();_N_E=e}]);